<ui:composition
        template="templates/common.xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">

        <main>
            <hr class="my-2"/>
            <div class="text-center mt-3">
                <h:link outcome="profile?id=#{request.getSession().getAttribute('userId')}" class="h4 text-info">Welcome, #{request.getSession().getAttribute("username")}</h:link>
            </div>
            <hr class="my-4"/>
            <div class="container">
                <ui:repeat value="#{homeBean.users}" var="user" varStatus="status">
                    <h:outputText value="&lt;div class='row mb-4 d-flex justify-content-around'&gt;" escape="false"
                                  rendered="#{status.index % 4 == 0}"/>
                    <div class="col-md-2 d-flex flex-column text-center">
                        <h:graphicImage library="png" value="/resources/png/#{user.gender.toLowerCase()}.png" class="img-thumbnail"
                                        width="200" height="200"/>
                        <h5 class="text-center">#{user.username}</h5>
                        <h:form>
                            <h:commandLink class="btn btn-info" value="Add Friend" action="#{homeBean.addFriend(user.id)}" />
                        </h:form>
                    </div>
                    <h:outputText value="&lt;/div&gt;" escape="false" rendered="#{status.index % 4 == 3}"/>
                </ui:repeat>
            </div>
            <hr class="my-3"/>
        </main>

    </ui:define>

</ui:composition>
